# Отчёт итерации — cli-shutdown

## Резюме изменений
- Обновлён bootstrap backend-приложения для гарантированного вызова `app.stop()` после CLI-команд и корректного завершения процесса согласно нормативной модели CLI.
- Добавлена безопасная обработка ошибок в bootstrap без дублирования логирования со стороны диспетчера.

## Детали работ
- Реализована логика определения runtime-команды по CLI-аргументам в bootstrap.
- Обеспечен lifecycle для инженерных команд: `run → stop → process.exit(code)`.
- Для runtime-команд добавлено корректное поведение при нештатном возврате управления (логирование предупреждения, освобождение ресурсов, ненулевой exit code).
- Тесты `npm run test:unit` выполнены успешно.

## Результаты
- CLI-команды завершают процесс без зависаний и освобождают управляемые ресурсы (включая `knex`).
- Поведение соответствует `ctx/docs/code/cli/dispatcher.md` и `ctx/docs/code/cli/overview.md`.
- Unit-тесты пройдены.
