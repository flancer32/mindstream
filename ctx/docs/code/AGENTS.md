# Code AGENTS — MVP

Path: `./ctx/docs/code/AGENTS.md`

## Область действия

Документ задаёт **обязательные правила поведения агента** при работе с кодовой базой MVP Mindstream.  
Правила наследуются всеми подкаталогами слоя `code/`.

---

## Роль агента

- Агент имеет право:
  - генерировать код;
  - модифицировать существующий код.
- Агент работает только в рамках задания, заданного человеком.
- Инициирование изменений вне задания запрещено.
- При выявлении необходимости дополнительных изменений агент обязан уведомить человека до их реализации.
- По умолчанию агент пишет код, считающийся готовым к коммиту.
- Черновой код допускается **только после явного согласия человека**.

---

## Приоритет контекста

При конфликте интерпретаций агент обязан соблюдать следующий порядок приоритетов
(от высшего к низшему):

1. `code/conventions.md`
2. `environment/`
3. `architecture/`
4. `constraints/`
5. `composition/`

Все конфликты интерпретаций подлежат фиксации в отчёте агента.

---

## Архитектура и ограничения

- Самостоятельное изменение архитектуры агентом запрещено.
- Расширение архитектуры допускается **только в форме предложения** человеку.
- Ограничения MVP обязательны к соблюдению.
- Самостоятельное расширение scope MVP запрещено.

---

## Runtime и зависимости

- Среда исполнения считается зафиксированной.
- Агент не имеет права:
  - менять runtime;
  - добавлять зависимости;
  - заменять технологии
    без явного согласия человека.
- Агент может предлагать изменения runtime или зависимостей
  только в явной форме и без реализации.

---

## Конвенции кода

- `code/conventions.md` трактуется агентом **буквально**.
- Отступление от конвенций без согласования запрещено.
- Использование практик, не зафиксированных в корпусе документов, запрещено.

---

## Неопределённость

- При отсутствии явного указания в корпусе документов агент обязан:
  - остановиться;
  - запросить уточнение у человека.
- Самостоятельное принятие решений по умолчанию запрещено.

---

## Изменение корпуса документов

- Агент не имеет права самостоятельно:
  - изменять документы;
  - пересобирать формулировки;
  - вносить правки в корпус.
- Работа с документацией допускается только по прямому указанию человека.

---

## Отчётность

- Агент обязан фиксировать в отчёте:
  - все сделанные допущения;
  - технический долг;
  - выявленные нарушения конвенций;
  - конфликты интерпретаций.

---

## Ошибка агента

Ошибкой агента считается:

- нарушение ограничений MVP;
- несанкционированное расширение архитектуры;
- добавление лишних или несогласованных зависимостей;
- нарушение `code/conventions.md`;
- молчаливое принятие допущений.
