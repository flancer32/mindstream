# Mindstream — Attention Signal Data Flows

Path: `./ctx/docs/architecture/data-flow/attention.md`

## Назначение

Документ фиксирует потоки сигналов внимания в MVP Mindstream.

Под потоками сигналов внимания понимаются архитектурно допустимые потоки данных, возникающие в браузерном контексте в результате пользовательского взаимодействия и, при выполнении условий, передаваемые в серверный контур хранения как статистические факты.

Документ описывает только Attention Signal Flows и не затрагивает потоки формирования корпуса, потоки передачи корпусных данных или локальные вычислительные петли браузерного контура.

## Архитектурная позиция

Потоки сигналов внимания соединяют браузерные контуры персональной проекции и внимания с серверным контуром хранения.

Эти потоки имеют происхождение в браузерном контексте, направлены от браузера к серверной части системы, носят статистический характер и не участвуют в формировании корпуса данных.

## Общая модель сигналов внимания

Сигналы внимания фиксируют факты взаимодействия пользователя с персональной лентой и смысловыми представлениями публикаций.

Сигналы накапливаются как статистические наблюдения без интерпретации порядка и причинности; последовательность форм внимания относится к композиционному уровню.

![Attention Signal Data Flows](../../_img/mindstream_arch_data_flow_attention.svg)

Схема: Attention Signal Data Flows.

## Поток передачи сигналов внимания

(`Browser → Storage`)

**Назначение**

Передача зафиксированных сигналов внимания из браузерного контура в серверный контур хранения.

**Передаваемые данные**

- идентификаторы публикаций или смысловых представлений;
- признаки взаимодействия (факт просмотра, удержание внимания и т.п.);
- минимальный контекст, необходимый для агрегирования.

**Свойства потока**

- поток является однонаправленным;
- передача сигналов не изменяет корпус данных;
- сигналы не инициируют пересчёт смысловых представлений или эмбеддингов;
- отсутствие передачи сигналов не нарушает функционирование системы.

## Условность передачи сигналов внимания

Передача сигналов внимания является условной и зависит от режима доступа пользователя.

**Демо-режим**

- сигналы внимания фиксируются и используются только локально;
- передача сигналов на сервер отсутствует.

**Режим полного доступа**

- допускается передача сигналов внимания в серверный контур хранения;
- передаваемые сигналы используются исключительно для агрегирования статистики.

Во всех режимах архитектурная роль сигналов внимания остаётся неизменной.

## Ограничения

Глобальные запреты на реактивность, обратные связи и управляющие потоки зафиксированы в `ctx/docs/architecture/data-flow.md`.

## Границы документа

Данный документ не описывает пользовательский интерфейс и формы взаимодействия, интерпретацию сигналов внимания, алгоритмы агрегации и анализа, структуру interest vector и форматы хранения и передачи данных.

Эти вопросы относятся к другим слоям документации.

## Итог

Документ фиксирует Attention Signal Flows Mindstream как однонаправленные статистические потоки наблюдения, передающие факты пользовательского внимания из браузерного контекста в серверное хранилище без управляющих эффектов, без реактивности и без влияния на формирование корпуса данных в рамках MVP.
