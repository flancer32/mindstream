# Mindstream — Attention Signal Data Flows

Path: `./ctx/docs/architecture/data-flow/attention.md`

## Назначение

Документ фиксирует потоки сигналов внимания в MVP Mindstream.

Под потоками сигналов внимания понимаются архитектурно допустимые потоки данных, возникающие в браузерном контексте в результате пользовательского взаимодействия и, при выполнении условий, передаваемые в серверный контур хранения как статистические факты.

Документ описывает только Attention Signal Flows и не затрагивает потоки формирования корпуса, потоки передачи корпусных данных или локальные вычислительные петли браузерного контура.

## Архитектурная позиция

Потоки сигналов внимания соединяют браузерные контуры персональной проекции и внимания с серверным контуром хранения.

Эти потоки имеют происхождение в браузерном контексте, направлены от браузера к серверной части системы, носят статистический, а не управляющий характер и не участвуют в формировании корпуса данных.

Сигналы внимания не являются командами и не интерпретируются как указания на изменение поведения системы.

## Общая модель сигналов внимания

Сигналы внимания фиксируют факты взаимодействия пользователя с персональной лентой и смысловыми представлениями публикаций.

Сигналы не интерпретируются во времени, не образуют причинных цепочек и не образуют событийного или временного пайплайна обработки, а накапливаются как статистические наблюдения.

Архитектурный слой не интерпретирует порядок возникновения сигналов внимания, а последовательность форм внимания относится к композиционному уровню.

Архитектурно сигналы внимания рассматриваются как данные наблюдения, а не как события управления.

![Attention Signal Data Flows](../../_img/mindstream_arch_data_flow_attention.svg)

Схема: Attention Signal Data Flows.

## Поток передачи сигналов внимания

(`Browser → Storage`)

**Назначение**

Передача зафиксированных сигналов внимания из браузерного контура в серверный контур хранения.

**Передаваемые данные**

- идентификаторы публикаций или смысловых представлений;
- признаки взаимодействия (факт просмотра, удержание внимания и т.п.);
- минимальный контекст, необходимый для агрегирования.

**Свойства потока**

- поток является однонаправленным;
- передача сигналов не изменяет корпус данных;
- сигналы не инициируют пересчёт смысловых представлений или эмбеддингов;
- отсутствие передачи сигналов не нарушает функционирование системы.

## Условность передачи сигналов внимания

Передача сигналов внимания является условной и зависит от режима доступа пользователя.

**Демо-режим**

- сигналы внимания фиксируются и используются только локально;
- передача сигналов на сервер отсутствует.

**Режим полного доступа**

- допускается передача сигналов внимания в серверный контур хранения;
- передаваемые сигналы используются исключительно для агрегирования статистики.

Во всех режимах архитектурная роль сигналов внимания остаётся неизменной.

## Архитектурные ограничения потоков внимания

В рамках MVP для Attention Signal Flows считается истинным, что:

- сигналы внимания не участвуют в формировании корпуса данных;
- сигналы не инициируют серверные вычисления;
- сигналы не образуют обратных управляющих связей;
- сигналы не используются для online-learning или реактивного пересчёта;
- браузерный контур не получает управляющих воздействий в ответ на сигналы внимания.

Нарушение любого из этих свойств считается выходом за рамки MVP.

## Границы документа

Данный документ не описывает пользовательский интерфейс и формы взаимодействия, интерпретацию сигналов внимания, алгоритмы агрегации и анализа, структуру interest vector и форматы хранения и передачи данных.

Эти вопросы относятся к другим слоям документации.

## Итог

Документ фиксирует Attention Signal Flows Mindstream как однонаправленные статистические потоки наблюдения, передающие факты пользовательского внимания из браузерного контекста в серверное хранилище без управляющих эффектов, без реактивности и без влияния на формирование корпуса данных в рамках MVP.
